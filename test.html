<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Center Div Example</title>
    <style>
        .statusRow {
            display: flex;
            position: relative;
            margin-top: 50px;
            overflow: hidden;
            width: 100%;
        }
        
        .statusDay {
            width: 50px;
            height: 50px;
            background-color: lightgrey;
            margin-right: 10px;
            text-align: center;
            line-height: 50px;
            position: relative;
        }
        
        .floatingDiv {
            width: 150px;
            height: 50px;
            background-color: rgba(0, 255, 0, 0.6);
            position: absolute;
            top: -60px;
            /* Place it above the statusRow */
            display: none;
            /* Initially hidden */
        }
    </style>
</head>

<body>

    <div class="statusRow">
        <div class="statusDay" data-id="1">1</div>
        <div class="statusDay" data-id="2">2</div>
        <div class="statusDay" data-id="3">3</div>
        <div class="statusDay" data-id="4">4</div>
        <div class="statusDay" data-id="5">5</div>
    </div>

    <div class="floatingDiv">I'm a floating div!</div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const floatingDiv = document.querySelector('.floatingDiv');
            const statusDays = document.querySelectorAll('.statusDay');

            // Function to position the floating div
            function positionFloatingDiv(clickedElement) {
                const container = document.querySelector('.statusRow');
                const containerRect = container.getBoundingClientRect();
                const firstStatusDay = statusDays[0].getBoundingClientRect();
                const lastStatusDay = statusDays[statusDays.length - 1].getBoundingClientRect();

                // Calculate the center of the clicked element
                const clickedRect = clickedElement.getBoundingClientRect();
                const centerX = clickedRect.left + clickedRect.width / 2 - 75; // Subtract half the width of the floating div

                // Ensure the floating div doesn't go outside the bounds
                let positionX = centerX;

                // Check if the floating div goes beyond the first or last statusDay
                if (positionX < firstStatusDay.left) {
                    positionX = firstStatusDay.left; // Align to the left of the first statusDay
                } else if (positionX + 150 > lastStatusDay.right) {
                    positionX = lastStatusDay.right - 150; // Align to the right of the last statusDay
                }

                // Position the floating div
                floatingDiv.style.left = `${positionX - containerRect.left}px`;
                floatingDiv.style.display = 'block'; // Make the floating div visible
            }

            // Add click event listener for each statusDay element
            statusDays.forEach(statusDay => {
                statusDay.addEventListener('click', (e) => {
                    positionFloatingDiv(e.target);
                });
            });

            // Add resize event to reposition the floating div
            window.addEventListener('resize', () => {
                // Ensure the floating div is hidden when the window is resized
                floatingDiv.style.display = 'none';
            });
        });
    </script>

</body>

</html>